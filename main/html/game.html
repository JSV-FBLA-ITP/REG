<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../modern-styles.css">
    <title>Game - FBLA Pet</title>
</head>
<body>
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="top-bar">
        <h2 id="pet-name-display" class="pet-name-header">Pet Name</h2>
        <button id="theme-toggle" class="theme-btn" onclick="toggleTheme()">üåô Dark Mode</button>
    </div>

    <div class="page-container">
        <div class="content-card">
            <div class="game-layout">
                <div class="game-visual-section">
                    <div id="petImg" class="pet-image-container">
                        <div id="pet-display" class="pet-display" onclick="interactWithPet()" onmouseenter="petHover()" onmouseleave="petLeave()">üêæ</div>
                        <div id="action-feedback" class="action-feedback"></div>
                        <div id="pet-speech" class="pet-speech"></div>
                    </div>
                    
                    <div class="interaction-hint">
                        <p>üëÜ Click or tap your pet to interact!</p>
                    </div>
                    
                    <div class="activity-list">
                        <h4>Recent Activity</h4>
                        <ul id="expense-list"></ul>
                    </div>
                </div>

                <div class="game-controls-section">
                    <div class="bank-display">
                        <h2>Bank: $<span id="money-display">0</span></h2>
                    </div>

                    <div class="stats-container">
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>üçΩÔ∏è Hunger</span>
                                <span id="hunger-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="hunger-bar" class="stat-bar stat-bar-hunger" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>üòä Happiness</span>
                                <span id="happy-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="happy-bar" class="stat-bar stat-bar-happy" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>‚ö° Energy</span>
                                <span id="energy-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="energy-bar" class="stat-bar stat-bar-energy" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>üíä Health</span>
                                <span id="health-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="health-bar" class="stat-bar stat-bar-health" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>

                    <div id="pet-emotion" class="pet-emotion-display">
                        <p id="emotion-text">üòä Feeling good!</p>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn" onclick="handleAction('feed')">Feed ($25)</button>
                        <button class="action-btn" onclick="handleAction('play')">Play ($10)</button>
                        <button class="action-btn action-btn-sleep" onclick="handleAction('sleep')">Sleep</button>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn" onclick="handleAction('clean')">Clean ($15)</button>
                        <button class="action-btn" onclick="handleAction('healthCheck')">Health Check ($30)</button>
                        <button class="action-btn" onclick="handleAction('vet')">Vet Visit ($100)</button>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn" onclick="openToyShop()">Buy Toys ($20)</button>
                        <button class="action-btn" onclick="openSupplyShop()">Buy Supplies ($35)</button>
                    </div>
                    
                    <button class="action-btn action-btn-success full-width-btn" onclick="earnMoney()">Perform Chores (+$60)</button>
                    
                    <button class="action-btn action-btn-purple full-width-btn" onclick="shop_toggleWindow()">Open Power-Up Shop</button>

                    <div class="expense-summary">
                        <h4>Total Expenses: $<span id="total-expenses">0</span></h4>
                        <h4>Savings Goal: $<span id="savings-goal">500</span> | Current: $<span id="savings-current">0</span></h4>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="shop_powerup_modal" class="modal">
        <div class="modal-content">
            <h2>Power-Up Shop</h2>
            <p>Max 3 per stat (-10% drain each)</p>
            <div class="shop-grid">
                <div class="shop-item">
                    <div><p>üç≤ Food Saver</p><small id="shop_count_hunger">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('hunger')" class="modern-btn shop-buy-btn">$300</button>
                </div>
                <div class="shop-item">
                    <div><p>üòä Happy Boost</p><small id="shop_count_happy">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('happy')" class="modern-btn shop-buy-btn">$300</button>
                </div>
                <div class="shop-item">
                    <div><p>‚ö° Energy Cell</p><small id="shop_count_energy">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('energy')" class="modern-btn shop-buy-btn">$300</button>
                </div>
                <div class="shop-item">
                    <div><p>üíä Health Boost</p><small id="shop_count_health">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('health')" class="modern-btn shop-buy-btn">$300</button>
                </div>
            </div>
            <button onclick="shop_toggleWindow()" class="close-modal-btn">Close Window</button>
        </div>
    </div>

    <div id="toy_shop_modal" class="modal">
        <div class="modal-content">
            <h2>Toy Shop</h2>
            <p>Buy toys to keep your pet happy!</p>
            <div class="shop-grid">
                <div class="shop-item">
                    <div><p>üéæ Tennis Ball</p><small>+5 Happiness</small></div>
                    <button onclick="buyToy('ball', 20)" class="modern-btn shop-buy-btn">$20</button>
                </div>
                <div class="shop-item">
                    <div><p>üß∏ Stuffed Toy</p><small>+8 Happiness</small></div>
                    <button onclick="buyToy('toy', 30)" class="modern-btn shop-buy-btn">$30</button>
                </div>
                <div class="shop-item">
                    <div><p>üéØ Puzzle Game</p><small>+10 Happiness</small></div>
                    <button onclick="buyToy('puzzle', 40)" class="modern-btn shop-buy-btn">$40</button>
                </div>
            </div>
            <button onclick="closeToyShop()" class="close-modal-btn">Close Window</button>
        </div>
    </div>

    <div id="supply_shop_modal" class="modal">
        <div class="modal-content">
            <h2>Supply Shop</h2>
            <p>Essential supplies for your pet</p>
            <div class="shop-grid">
                <div class="shop-item">
                    <div><p>üçñ Premium Food</p><small>+10 Hunger</small></div>
                    <button onclick="buySupply('premiumFood', 35)" class="modern-btn shop-buy-btn">$35</button>
                </div>
                <div class="shop-item">
                    <div><p>üß¥ Grooming Kit</p><small>+10 Health</small></div>
                    <button onclick="buySupply('grooming', 40)" class="modern-btn shop-buy-btn">$40</button>
                </div>
                <div class="shop-item">
                    <div><p>üõèÔ∏è Comfy Bed</p><small>+15 Energy</small></div>
                    <button onclick="buySupply('bed', 50)" class="modern-btn shop-buy-btn">$50</button>
                </div>
            </div>
            <button onclick="closeSupplyShop()" class="close-modal-btn">Close Window</button>
        </div>
    </div>

    <script src="../script.js"></script>
    <script src="../imageGeneration.js"></script>
</body>
</html>