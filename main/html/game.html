<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles.css">
    <title>Game - FBLA Pet</title>
</head>
<body>
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="top-bar">
        <h2 id="pet-name-display" class="pet-name-header">Pet Name</h2>
        <button id="theme-toggle" class="theme-btn" onclick="toggleTheme()">ğŸŒ™ Dark Mode</button>
    </div>

    <div class="page-container">
        <div class="content-card">
            <div class="game-layout">
                <div class="game-visual-section">
                    <div id="petImg" class="pet-image-container">
                        <div id="pet-display" class="pet-display" onclick="interactWithPet()" onmouseenter="petHover()" onmouseleave="petLeave()">ğŸ¾</div>
                        <div id="action-feedback" class="action-feedback"></div>
                        <div id="pet-speech" class="pet-speech"></div>
                    </div>
                    
                    <div class="interaction-hint">
                        <p>ğŸ‘† Click or tap your pet to interact!</p>
                    </div>
                    
                    <div class="activity-list">
                        <h4>Recent Activity</h4>
                        <ul id="expense-list"></ul>
                    </div>
                </div>

                <div class="game-controls-section">
                    <div class="bank-display">
                        <h2>Bank: $<span id="money-display">0</span></h2>
                    </div>

                    <div class="stats-container">
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>ğŸ½ï¸ Hunger</span>
                                <span id="hunger-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="hunger-bar" class="stat-bar stat-bar-hunger" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>ğŸ˜Š Happiness</span>
                                <span id="happy-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="happy-bar" class="stat-bar stat-bar-happy" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>âš¡ Energy</span>
                                <span id="energy-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="energy-bar" class="stat-bar stat-bar-energy" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="stat-bar-item">
                            <div class="stat-label">
                                <span>ğŸ’Š Health</span>
                                <span id="health-val" class="stat-value">0%</span>
                            </div>
                            <div class="stat-bar-wrapper">
                                <div id="health-bar" class="stat-bar stat-bar-health" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>

                    <div id="pet-emotion" class="pet-emotion-display">
                        <p id="emotion-text">ğŸ˜Š Feeling good!</p>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn" onclick="handleAction('feed')">Feed ($25)</button>
                        <button class="action-btn" onclick="handleAction('play')">Play ($10)</button>
                        <button class="action-btn action-btn-sleep" onclick="handleAction('sleep')">Sleep</button>
                    </div>

                    <div class="action-buttons">
                        <button class="action-btn" onclick="handleAction('clean')">Clean ($15)</button>
                        <button class="action-btn" onclick="handleAction('healthCheck')">Health Check ($30)</button>
                        <button class="action-btn" onclick="handleAction('vet')">Vet Visit ($100)</button>
                    </div>

                    <div class="action-buttons">
                        <!-- Toy and Supply shops removed; only Power-Up shop remains -->
                    </div>
                    
                    <button class="action-btn action-btn-success full-width-btn" onclick="earnMoney()">Perform Chores (+$60)</button>
                    
                    <button class="action-btn action-btn-purple full-width-btn" onclick="shop_toggleWindow()">Open Power-Up Shop</button>

                    <div class="expense-summary">
                        <h4>Total Expenses: $<span id="total-expenses">0</span></h4>
                        <h4>Savings Goal: $<span id="savings-goal">500</span> | Current: $<span id="savings-current">0</span></h4>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="shop_powerup_modal" class="modal">
        <div class="modal-content">
            <h2>Power-Up Shop</h2>
            <p>Reduce stat loss by 10% per upgrade (max 3 per stat)</p>
            <div class="shop-grid">
                <div class="shop-item">
                    <div><p>ğŸ½ï¸ Hunger Saver</p><small id="shop_count_hunger">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('hunger')" class="modern-btn shop-buy-btn">$300</button>
                </div>
                <div class="shop-item">
                    <div><p>ğŸ˜Š Happiness Saver</p><small id="shop_count_happy">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('happy')" class="modern-btn shop-buy-btn">$300</button>
                </div>
                <div class="shop-item">
                    <div><p>âš¡ Energy Saver</p><small id="shop_count_energy">3 left</small></div>
                    <button onclick="shop_purchaseUpgrade('energy')" class="modern-btn shop-buy-btn">$300</button>
                </div>
            </div>
            <button onclick="shop_toggleWindow()" class="close-modal-btn">Close Window</button>
        </div>
    </div>

    <div id="game_over_modal" class="modal">
        <div class="modal-content game-over-modal">
            <h2>ğŸ’” Game Over</h2>
            <p class="game-over-message">Your pet has died due to poor health.</p>
            <p class="game-over-submessage">Please take better care of your pet next time!</p>
            <button onclick="restartGame()" class="modern-btn restart-btn">Restart Game</button>
        </div>
    </div>

    <script src="../backgroundImages.js"></script>
    <script src="../script.js"></script>
    <script src="../imageGeneration.js"></script>
</body>
</html>